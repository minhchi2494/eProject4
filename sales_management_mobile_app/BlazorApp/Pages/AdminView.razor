@page "/admin"

@using System;
@using System.Linq;
@using System.Collections.Generic;
@using System.Threading.Tasks;
@using BlazorApp.Services;
@using BlazorApp.Models;

<table class="table">
    <thead>
        <tr>
            <th>Username</th>
            <th>Fullname</th>
            <th>Email</th>
            <th>Phone</th>
        </tr>
    </thead>
    <tbody>
        @foreach(var item in admins)
        {
            <tr>
                <td>@item.Username</td>
                <td>@item.Fullname</td>
                <td>@item.Email</td>
                <td>@item.Phone</td>
            </tr>
        }
    </tbody>
</table>

@code {
    [Inject]
     private IAdminServices _services { get; set; }

     private List<Admin> admins = new List<Admin>();

     protected override async Task OnInitializedAsync()
     {
         admins = await _services.getAdmins();
     }
}
